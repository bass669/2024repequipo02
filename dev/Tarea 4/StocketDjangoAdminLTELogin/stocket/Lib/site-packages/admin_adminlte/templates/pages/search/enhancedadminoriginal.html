{% extends 'layouts/base.html' %}
{% load static %}

{% block title %} AdminLTE 3 | Dashboard {% endblock title %}

{% block extrastyle %}
  <link rel="stylesheet" href="crud.css">
  <script src="crud.js"></script>
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <!-- Tempusdominus Bootstrap 4 -->
  <link rel="stylesheet" href="{% static 'plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css' %}">
  <!-- iCheck -->
  <link rel="stylesheet" href="{% static 'plugins/icheck-bootstrap/icheck-bootstrap.min.css' %}">
  <!-- JQVMap -->
  <link rel="stylesheet" href="{% static 'plugins/jqvmap/jqvmap.min.css' %}">
  <!-- Daterange picker -->
  <link rel="stylesheet" href="{% static 'plugins/daterangepicker/daterangepicker.css' %}">
  <!-- summernote -->
  <link rel="stylesheet" href="{% static 'plugins/summernote/summernote-bs4.min.css' %}">

{% endblock extrastyle %}

{% block bodyclass %} hold-transition sidebar-mini layout-fixed {% endblock bodyclass %}

{% block content %}
  
<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <div class="content-header">
    <div class="container-fluid">
      <div class="row mb-2">
        <div class="col-sm-6">
          <h2 > Detalles Proveedores</h2>
        </div><!-- /.col -->
        
      </div><!-- /.row -->
    </div><!-- /.container-fluid -->
  </div>
  <!-- /.content-header -->

  <!-- Main content -->
  <section class="content">
    <div class="container-fluid">
      <!-- Small boxes (Stat box) -->
      <div class="row">
        <div class="col-12">
          <!-- small box -->

          <script>
            document.addEventListener('DOMContentLoaded', () => {
              let contadorEmpleados = 1;
              const tablaEmpleados = document.querySelector('table');
          
              // Función para crear una fila de empleado vacía
              function crearFilaEmpleado() {
                const fila = tablaEmpleados.insertRow();
                fila.innerHTML = `
                  <td>${contadorEmpleados}</td>
                  <td><input type="text" placeholder="Nombre"></td>
                  <td><input type="text" placeholder="Apellido"></td>
                  <td><input type="text" placeholder="Teléfono"></td>
                  <td>
                    <button class="boton boton-guardar">Guardar</button>
                    <button class="boton boton-actualizar" style="display:none;">Actualizar</button>
                    <button class="boton boton-eliminar">Eliminar</button>
                  </td>
                `;
                
                agregarEventosGuardarActualizarEliminar(fila);
              }
          
              // Función para agregar eventos a los botones de guardar, actualizar y eliminar
              function agregarEventosGuardarActualizarEliminar(fila) {
                const botonGuardar = fila.querySelector('.boton-guardar');
                const botonActualizar = fila.querySelector('.boton-actualizar');
                const botonEliminar = fila.querySelector('.boton-eliminar');
          
                botonGuardar.addEventListener('click', () => {
                  // Aquí puedes agregar tu lógica para guardar los datos del empleado
                  console.log('Empleado guardado con ID:', fila.firstElementChild.textContent);
                  contadorEmpleados++;
                  // Deshabilitar los campos de entrada
                  fila.querySelectorAll('input').forEach(input => input.disabled = true);
                  // Mostrar el botón de actualizar y ocultar el de guardar
                  botonActualizar.style.display = 'inline';
                  botonGuardar.style.display = 'none';
                });
          
                botonActualizar.addEventListener('click', () => {
                  // Habilitar los campos de entrada para edición
                  fila.querySelectorAll('input').forEach(input => input.disabled = false);
                  // Mostrar el botón de guardar y ocultar el de actualizar
                  botonGuardar.style.display = 'inline';
                  botonActualizar.style.display = 'none';
                });
          
                botonEliminar.addEventListener('click', () => {
                  fila.remove();
                  console.log('Empleado eliminado');
                });
              }
          
              // Evento para el botón de agregar empleado
              document.querySelector('.boton-agregar').addEventListener('click', crearFilaEmpleado);
            });
          
            // Estilos adicionales para los botones
            document.addEventListener('DOMContentLoaded', () => {
              const estiloBotones = document.createElement('style');
              estiloBotones.innerHTML = `
                .boton-guardar {
                  background-color: blue; /* Color azul para el botón guardar */
                  border-radius: 5px;
                }
                .boton-actualizar {
                  background-color: green; /* Color verde para el botón actualizar */
                  border-radius: 5px;
                }
                .boton-eliminar {
                  background-color: red; /* Color rojo para el botón eliminar */
                  border-radius: 5px;
                }
              `;
              document.head.appendChild(estiloBotones);
            });
          </script>
   
              <style>
                body {
                  font-family: Arial, sans-serif;
                  margin: 0;
                  padding: 0;
                  background-color: #f4f4f4;}
                .header {
                  background-color: #333;
                  color: #fff;
                  padding: 10px 20px;
                  text-align: center;}
                .container {
                  width: 80%;
                  margin: 20px auto;
                  overflow: hidden;}
                h2{
                  color: #000000;
                  margin: 9px !important;
                  font-size: 30px;}
                .boton-agregar {
                  display: inline-block;
                  padding: 10px 20px;
                  margin: 10px;
                  border: none;
                  border-radius: 5px;
                  cursor: pointer;
                  font-size: 16px;}
                .boton-listar {
                  display: inline-block;
                  background-color: #5cb85c; /* Green */
                  padding: 10px 20px;
                  margin: 10px;
                  border: none;
                  border-radius: 5px;
                  cursor: pointer;
                  font-size: 16px;}
                .button-list,
                .button-add {
                  background-color: #5cb85c; /* Green */
                  border-radius: 5px;
                  color: white;}
                .button-update {
                  background-color: #f0ad4e; /* Orange */
                  border-radius: 5px;
                  color: white;}
                .button-delete {
                  background-color: #d9534f; /* Red */
                  border-radius: 5px;
                  color: white;}
                .table-container {
                  background-color: #fff;
                  border-radius: 5px;
                  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                  padding: 20px;}
                table {
                  width: 100%;
                  border-collapse: collapse;
                  margin-top: 20px;}
                th,
                td {
                  text-align: left;
                  padding: 12px;
                  border-bottom: 1px solid #ddd;}
                th {
                  background-color: #f2f2f2;}
                tr:hover {
                  background-color: #f5f5f5;}
                body { font-family: Arial, sans-serif; }
                .boton { padding: 10px; border: none; color: white; cursor: pointer; }
                .boton-agregar { background-color: blue; }
                .boton-actualizar { background-color: green; }
                .boton-eliminar { background-color: red; }
                table { width: 100%; border-collapse: collapse; margin-top: 20px;}
                th, td { text-align: left; padding: 8px;}
                th { background-color:#f2f2f2;}
              </style>
              </head>
              <body>

              
              <button class="boton boton-agregar">Agregar Proveedor</button>
              <button class="boton boton-listar">Listar Proveedor</button>
              
              
              <table>
                <tr>
                  <th>Id</th><th>Nombre</th><th>Apellido</th><th>Teléfono</th><th>Acción</th>
                </tr>
                <!-- Las filas con datos de empleados se agregarán aquí dinámicamente -->
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>




  {% endblock content %}

  {% block extra_scripts %}
  
    <!-- jQuery UI 1.11.4 -->
    <script src="{% static 'plugins/jquery-ui/jquery-ui.min.js' %}"></script>
    <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
    <script>
      $.widget.bridge('uibutton', $.ui.button)
    </script>

    <!-- ChartJS -->
    <script src="{% static 'plugins/chart.js/Chart.min.js' %}"></script>
    <!-- Sparkline -->
    <script src="{% static 'plugins/sparklines/sparkline.js' %}"></script>
    <!-- JQVMap -->
    <script src="{% static 'plugins/jqvmap/jquery.vmap.min.js' %}"></script>
    <script src="{% static 'plugins/jqvmap/maps/jquery.vmap.usa.js' %}"></script>
    <!-- jQuery Knob Chart -->
    <script src="{% static 'plugins/jquery-knob/jquery.knob.min.js' %}"></script>
    <!-- daterangepicker -->
    <script src="{% static 'plugins/moment/moment.min.js' %}"></script>
    <script src="{% static 'plugins/daterangepicker/daterangepicker.js' %}"></script>
    <!-- Tempusdominus Bootstrap 4 -->
    <script src="{% static 'plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js' %}"></script>
    <!-- Summernote -->
    <script src="{% static 'plugins/summernote/summernote-bs4.min.js' %}"></script>
    <!-- overlayScrollbars -->
    <script src="{% static 'plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js' %}"></script>
    <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
    <script src="{% static 'dist/js/pages/dashboard.js' %}"></script>
  
  {% endblock extra_scripts %}

